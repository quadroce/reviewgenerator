<!DOCTYPE html>
<html>
<head>
  <title>ChatGPT Form</title>
  <style>
    body {
      background-color: #ffffff;
      color: #0000ff;
    }
    
    form {
      margin: 20px;
    }
    
    input[type="submit"] {
      background-color: #0000ff;
      color: #ffffff;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
    }
    
    input[type="text"], textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      resize: vertical;
    }
  </style>
</head>
<body>
  <h1>ChatGPT Form</h1>
  
  <form id="chatForm">
    <label for="userInput">User Input:</label>
    <input type="text" id="userInput" name="userInput" required>
    <input type="submit" value="Submit">
  </form>
  
  <div id="chatOutput"></div>

  <script>
    const form = document.getElementById('chatForm');
    const userInput = document.getElementById('userInput');
    const chatOutput = document.getElementById('chatOutput');

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const userText = userInput.value.trim();

      if (userText !== '') {
        sendUserInput(userText);
        userInput.value = '';
      }
    });

    function sendUserInput(text) {
      const apiKey = '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';
      const url = 'https://api.openai.com/v1/engines/davinci/completions';

      fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer ' + apiKey,
        },
        body: JSON.stringify({
          prompt: text,
          max_tokens: 100,
        }),
      })
        .then(response => response.json())
        .then(data => {
          const chatResponse = data.choices[0].text.trim();
          displayChatResponse(chatResponse);
        })
        .catch(error => console.error('Error:', error));
    }

    function displayChatResponse(response) {
      const chatBubble = document.createElement('p');
      chatBubble.textContent = response;
      chatOutput.appendChild(chatBubble);
    }
  </script>
</body>
</html>
